Singlular Value Decomposition (SVD) is a really cool algebraic model-fitting routine that gives you an approximation if the number of equations is less than the number of unknowns, a solution if the number of equations is equal to the number of unknowns, and a best-fit if the number of equations is greater than the number of unknowns. SVD and I go way back! I used it in graduate school to solve for nearest-neighbour effects of DNA biophysical properties. This routine was adapted from  William Press, Numerical Recipes in C++: The Art of Scientific Computing (2nd edition). Cambridge University Press New York, NY, USA Â©1992. 

In SVD.ino, I used SVD to solve the raw RED, GREEN, and BLUE data I collected from an RGB TCS3200 colour sensor. The "READINGS" matrix holds the measured readings. The matrix "Y" holds wavelengths I would like to map those readings to. The program is fitting a set of equations using the following function: INTERCEPT + A*RED + B*GREEN + C*BLUE = WAVELENGTH.

I took this program on as a challenge to try and get the colour sensor to report a wavelength instead of a bucketed colour. The SVD model didn't work out very well for this problem. It does solve a "wavelength", but it seems to confuse BLUE with PURPLE, and RED with ORANGE. The Neural Network program works much better for identifying colours:
https://github.com/dndubins/ATmega328P/blob/main/ModelFitting/NN/NNsensor.ino<p>

SVDsensor.ino is the same program, with a Serial Monitor interface added to solve a new SVD model and save the solved parameters to EPROM. These solved parameters can then be loaded and used next time. The structure of this program is actually very good. I'm hanging onto it for multi-dimensional sensor readings, for when I would like to fit a multidimensional set of experimental data using a system of linear equations in the future. Because hey, that could happen!
